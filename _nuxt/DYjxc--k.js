import{az as G,U as fe,G as se,f as me,j as ve,aF as j,I as ye,O as Z,ba as pe,b0 as Q,h as q,bb as ge,a_ as be,bc as he,b1 as Ce,a1 as V,M as J,N as U,n as R,b as Y,C as E,b2 as we,bd as Ee,a2 as ke,a9 as ee,B as L,o as A,c as X,a as H,v as k,u as o,t as Me,w as I,z as K,E as Be,W as Se,q as x,D as ne,X as le,be as Te,aL as Ie,bf as De,bg as oe,r as D,bh as Le,bi as Fe,aH as $e,m as Oe,bj as te,aP as Ae,aO as Pe,ae as Ne,aB as ze,ah as Ye,ag as Re,aC as We,aD as He,bk as Ue,Y as Ve}from"./CdoEpQFN.js";import{P as _}from"./exi2vzqe.js";import{F as Xe,i as _e,E as je}from"./MD5Eghqt.js";import{U as ae}from"./y9GKukHp.js";import{t as qe}from"./92VdOWeN.js";let W;const Ke=e=>{var t;if(!G)return 0;if(W!==void 0)return W;const s=document.createElement("div");s.className=`${e}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const u=s.offsetWidth;s.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",s.appendChild(l);const i=l.offsetWidth;return(t=s.parentNode)==null||t.removeChild(s),W=u-i,W},xe=(...e)=>t=>{e.forEach(s=>{fe(s)?s(t):s.value=t})},Ge=(e,t,s,u)=>{let l={offsetX:0,offsetY:0};const i=m=>{const c=m.clientX,y=m.clientY,{offsetX:p,offsetY:h}=l,f=e.value.getBoundingClientRect(),d=f.left,w=f.top,F=f.width,P=f.height,$=document.documentElement.clientWidth,N=document.documentElement.clientHeight,z=-d+p,O=-w+h,M=$-d-F+p,B=N-w-P+h,C=n=>{let v=p+n.clientX-c,g=h+n.clientY-y;u!=null&&u.value||(v=Math.min(Math.max(v,z),M),g=Math.min(Math.max(g,O),B)),l={offsetX:v,offsetY:g},e.value&&(e.value.style.transform=`translate(${j(v)}, ${j(g)})`)},S=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",S)},r=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)};se(()=>{me(()=>{s.value?r():a()})}),ve(()=>{a()})},Ze=(e,t={})=>{ye(e)||qe("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||Z("popup"),u=pe(()=>s.bm("parent","hidden"));if(!G||Q(document.body,u.value))return;let l=0,i=!1,r="0";const a=()=>{setTimeout(()=>{Ce(document==null?void 0:document.body,u.value),i&&document&&(document.body.style.width=r)},200)};q(e,m=>{if(!m){a();return}i=!Q(document.body,u.value),i&&(r=document.body.style.width),l=Ke(s.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,y=ge(document.body,"overflowY");l>0&&(c||y==="scroll")&&i&&(document.body.style.width=`calc(100% - ${l}px)`),be(document.body,u.value)}),he(()=>a())},ie=e=>{if(!e)return{onClick:V,onMousedown:V,onMouseup:V};let t=!1,s=!1;return{onClick:r=>{t&&s&&e(r),t=s=!1},onMousedown:r=>{t=r.target===r.currentTarget},onMouseup:r=>{s=r.target===r.currentTarget}}},Je=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:U([String,Array,Object])},zIndex:{type:U([String,Number])}}),Qe={click:e=>e instanceof MouseEvent},eo="overlay";var oo=R({name:"ElOverlay",props:Je,emits:Qe,setup(e,{slots:t,emit:s}){const u=Z(eo),l=m=>{s("click",m)},{onClick:i,onMousedown:r,onMouseup:a}=ie(e.customMaskEvent?void 0:l);return()=>e.mask?Y("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:r,onMouseup:a},[E(t,"default")],_.STYLE|_.CLASS|_.PROPS,["onClick","onMouseup","onMousedown"]):we("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(t,"default")])}});const to=oo,re=Symbol("dialogInjectionKey"),de=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ee},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),so={close:()=>!0},no=["aria-level"],lo=["aria-label"],ao=["id"],io=R({name:"ElDialogContent"}),ro=R({...io,props:de,emits:so,setup(e){const t=e,{t:s}=ke(),{Close:u}=Te,{dialogRef:l,headerRef:i,bodyId:r,ns:a,style:m}=ee(re),{focusTrapRef:c}=ee(Xe),y=L(()=>[a.b(),a.is("fullscreen",t.fullscreen),a.is("draggable",t.draggable),a.is("align-center",t.alignCenter),{[a.m("center")]:t.center}]),p=xe(c,l),h=L(()=>t.draggable),f=L(()=>t.overflow);return Ge(l,i,h,f),(d,w)=>(A(),X("div",{ref:o(p),class:k(o(y)),style:ne(o(m)),tabindex:"-1"},[H("header",{ref_key:"headerRef",ref:i,class:k([o(a).e("header"),{"show-close":d.showClose}])},[E(d.$slots,"header",{},()=>[H("span",{role:"heading","aria-level":d.ariaLevel,class:k(o(a).e("title"))},Me(d.title),11,no)]),d.showClose?(A(),X("button",{key:0,"aria-label":o(s)("el.dialog.close"),class:k(o(a).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=F=>d.$emit("close"))},[Y(o(Se),{class:k(o(a).e("close"))},{default:I(()=>[(A(),K(Be(d.closeIcon||o(u))))]),_:1},8,["class"])],10,lo)):x("v-if",!0)],2),H("div",{id:o(r),class:k(o(a).e("body"))},[E(d.$slots,"default")],10,ao),d.$slots.footer?(A(),X("footer",{key:0,class:k(o(a).e("footer"))},[E(d.$slots,"footer")],2)):x("v-if",!0)],6))}});var uo=le(ro,[["__file","dialog-content.vue"]]);const co=J({...de,appendToBody:Boolean,appendTo:{type:U(String),default:"body"},beforeClose:{type:U(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),fo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>Ie(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},mo=(e,t)=>{var s;const l=Oe().emit,{nextZIndex:i}=De();let r="";const a=oe(),m=oe(),c=D(!1),y=D(!1),p=D(!1),h=D((s=e.zIndex)!=null?s:i());let f,d;const w=Le("namespace",Fe),F=L(()=>{const b={},T=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(b[`${T}-margin-top`]=e.top),e.width&&(b[`${T}-width`]=j(e.width))),b}),P=L(()=>e.alignCenter?{display:"flex"}:{});function $(){l("opened")}function N(){l("closed"),l(ae,!1),e.destroyOnClose&&(p.value=!1)}function z(){l("close")}function O(){d==null||d(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=te(()=>S(),e.openDelay):S()}function M(){f==null||f(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=te(()=>n(),e.closeDelay):n()}function B(){function b(T){T||(y.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(b):M()}function C(){e.closeOnClickModal&&B()}function S(){G&&(c.value=!0)}function n(){c.value=!1}function v(){l("openAutoFocus")}function g(){l("closeAutoFocus")}function ue(b){var T;((T=b.detail)==null?void 0:T.focusReason)==="pointer"&&b.preventDefault()}e.lockScroll&&Ze(c);function ce(){e.closeOnPressEscape&&B()}return q(()=>e.modelValue,b=>{b?(y.value=!1,O(),p.value=!0,h.value=_e(e.zIndex)?i():h.value++,$e(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):c.value&&M()}),q(()=>e.fullscreen,b=>{t.value&&(b?(r=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=r)}),se(()=>{e.modelValue&&(c.value=!0,p.value=!0,O())}),{afterEnter:$,afterLeave:N,beforeLeave:z,handleClose:B,onModalClick:C,close:M,doClose:n,onOpenAutoFocus:v,onCloseAutoFocus:g,onCloseRequested:ce,onFocusoutPrevented:ue,titleId:a,bodyId:m,closed:y,style:F,overlayDialogStyle:P,rendered:p,visible:c,zIndex:h}},vo=["aria-label","aria-labelledby","aria-describedby"],yo=R({name:"ElDialog",inheritAttrs:!1}),po=R({...yo,props:co,emits:fo,setup(e,{expose:t}){const s=e,u=Ae();Pe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!u.title));const l=Z("dialog"),i=D(),r=D(),a=D(),{visible:m,titleId:c,bodyId:y,style:p,overlayDialogStyle:h,rendered:f,zIndex:d,afterEnter:w,afterLeave:F,beforeLeave:P,handleClose:$,onModalClick:N,onOpenAutoFocus:z,onCloseAutoFocus:O,onCloseRequested:M,onFocusoutPrevented:B}=mo(s,i);Ne(re,{dialogRef:i,headerRef:r,bodyId:y,ns:l,rendered:f,style:p});const C=ie(N),S=L(()=>s.draggable&&!s.fullscreen);return t({visible:m,dialogContentRef:a}),(n,v)=>(A(),K(Ue,{to:n.appendTo,disabled:n.appendTo!=="body"?!1:!n.appendToBody},[Y(He,{name:"dialog-fade",onAfterEnter:o(w),onAfterLeave:o(F),onBeforeLeave:o(P),persisted:""},{default:I(()=>[ze(Y(o(to),{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":o(d)},{default:I(()=>[H("div",{role:"dialog","aria-modal":"true","aria-label":n.title||void 0,"aria-labelledby":n.title?void 0:o(c),"aria-describedby":o(y),class:k(`${o(l).namespace.value}-overlay-dialog`),style:ne(o(h)),onClick:v[0]||(v[0]=(...g)=>o(C).onClick&&o(C).onClick(...g)),onMousedown:v[1]||(v[1]=(...g)=>o(C).onMousedown&&o(C).onMousedown(...g)),onMouseup:v[2]||(v[2]=(...g)=>o(C).onMouseup&&o(C).onMouseup(...g))},[Y(o(je),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(z),onFocusAfterReleased:o(O),onFocusoutPrevented:o(B),onReleaseRequested:o(M)},{default:I(()=>[o(f)?(A(),K(uo,Ye({key:0,ref_key:"dialogContentRef",ref:a},n.$attrs,{center:n.center,"align-center":n.alignCenter,"close-icon":n.closeIcon,draggable:o(S),overflow:n.overflow,fullscreen:n.fullscreen,"show-close":n.showClose,title:n.title,"aria-level":n.headerAriaLevel,onClose:o($)}),Re({header:I(()=>[n.$slots.title?E(n.$slots,"title",{key:1}):E(n.$slots,"header",{key:0,close:o($),titleId:o(c),titleClass:o(l).e("title")})]),default:I(()=>[E(n.$slots,"default")]),_:2},[n.$slots.footer?{name:"footer",fn:I(()=>[E(n.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):x("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,vo)]),_:3},8,["mask","overlay-class","z-index"]),[[We,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var go=le(po,[["__file","dialog.vue"]]);const ko=Ve(go);function Mo(e){e&&e.resetFields()}function Bo(e,t,s){e&&e.validate(u=>{u&&t&&t()})}function So(e){return Number.isInteger(e)&&Math.sign(e)===1}export{ko as E,So as a,Mo as r,Bo as s};
