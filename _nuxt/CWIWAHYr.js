import{az as G,U as fe,G as se,f as me,j as ve,aF as j,I as ye,O as Z,b5 as pe,aV as Q,h as q,b6 as ge,aT as be,b7 as he,aW as Ce,a1 as U,M as J,N as H,n as R,b as Y,C as E,aX as we,b8 as Ee,a2 as ke,a9 as ee,B as L,o as O,c as V,a as X,v as k,u as o,t as Me,w as D,z as K,D as Be,W as Te,q as x,E as le,X as ne,b9 as Se,aL as De,ba as Ie,bb as oe,r as I,bc as Le,bd as Fe,aH as $e,m as Ae,be as te,bf as Oe,bg as Pe,ae as Ne,aB as ze,ah as Ye,ag as Re,aC as We,aD as Xe,bh as He,Y as Ue}from"./Dwv-tNMU.js";import{P as _}from"./BkVBIAPV.js";import{F as Ve,i as _e,E as je}from"./DASqlfDG.js";import{U as ae}from"./y9GKukHp.js";import{t as qe}from"./jeCagBFP.js";let W;const Ke=e=>{var t;if(!G)return 0;if(W!==void 0)return W;const s=document.createElement("div");s.className=`${e}-scrollbar__wrap`,s.style.visibility="hidden",s.style.width="100px",s.style.position="absolute",s.style.top="-9999px",document.body.appendChild(s);const u=s.offsetWidth;s.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",s.appendChild(n);const i=n.offsetWidth;return(t=s.parentNode)==null||t.removeChild(s),W=u-i,W},xe=(...e)=>t=>{e.forEach(s=>{fe(s)?s(t):s.value=t})},Ge=(e,t,s,u)=>{let n={offsetX:0,offsetY:0};const i=m=>{const c=m.clientX,y=m.clientY,{offsetX:p,offsetY:h}=n,f=e.value.getBoundingClientRect(),d=f.left,w=f.top,F=f.width,P=f.height,$=document.documentElement.clientWidth,N=document.documentElement.clientHeight,z=-d+p,A=-w+h,M=$-d-F+p,B=N-w-P+h,C=l=>{let v=p+l.clientX-c,g=h+l.clientY-y;u!=null&&u.value||(v=Math.min(Math.max(v,z),M),g=Math.min(Math.max(g,A),B)),n={offsetX:v,offsetY:g},e.value&&(e.value.style.transform=`translate(${j(v)}, ${j(g)})`)},T=()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",T)},r=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)};se(()=>{me(()=>{s.value?r():a()})}),ve(()=>{a()})},Ze=(e,t={})=>{ye(e)||qe("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||Z("popup"),u=pe(()=>s.bm("parent","hidden"));if(!G||Q(document.body,u.value))return;let n=0,i=!1,r="0";const a=()=>{setTimeout(()=>{Ce(document==null?void 0:document.body,u.value),i&&document&&(document.body.style.width=r)},200)};q(e,m=>{if(!m){a();return}i=!Q(document.body,u.value),i&&(r=document.body.style.width),n=Ke(s.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,y=ge(document.body,"overflowY");n>0&&(c||y==="scroll")&&i&&(document.body.style.width=`calc(100% - ${n}px)`),be(document.body,u.value)}),he(()=>a())},ie=e=>{if(!e)return{onClick:U,onMousedown:U,onMouseup:U};let t=!1,s=!1;return{onClick:r=>{t&&s&&e(r),t=s=!1},onMousedown:r=>{t=r.target===r.currentTarget},onMouseup:r=>{s=r.target===r.currentTarget}}},Je=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:H([String,Array,Object])},zIndex:{type:H([String,Number])}}),Qe={click:e=>e instanceof MouseEvent},eo="overlay";var oo=R({name:"ElOverlay",props:Je,emits:Qe,setup(e,{slots:t,emit:s}){const u=Z(eo),n=m=>{s("click",m)},{onClick:i,onMousedown:r,onMouseup:a}=ie(e.customMaskEvent?void 0:n);return()=>e.mask?Y("div",{class:[u.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:i,onMousedown:r,onMouseup:a},[E(t,"default")],_.STYLE|_.CLASS|_.PROPS,["onClick","onMouseup","onMousedown"]):we("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(t,"default")])}});const to=oo,re=Symbol("dialogInjectionKey"),de=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ee},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),so={close:()=>!0},lo=["aria-level"],no=["aria-label"],ao=["id"],io=R({name:"ElDialogContent"}),ro=R({...io,props:de,emits:so,setup(e){const t=e,{t:s}=ke(),{Close:u}=Se,{dialogRef:n,headerRef:i,bodyId:r,ns:a,style:m}=ee(re),{focusTrapRef:c}=ee(Ve),y=L(()=>[a.b(),a.is("fullscreen",t.fullscreen),a.is("draggable",t.draggable),a.is("align-center",t.alignCenter),{[a.m("center")]:t.center}]),p=xe(c,n),h=L(()=>t.draggable),f=L(()=>t.overflow);return Ge(n,i,h,f),(d,w)=>(O(),V("div",{ref:o(p),class:k(o(y)),style:le(o(m)),tabindex:"-1"},[X("header",{ref_key:"headerRef",ref:i,class:k([o(a).e("header"),{"show-close":d.showClose}])},[E(d.$slots,"header",{},()=>[X("span",{role:"heading","aria-level":d.ariaLevel,class:k(o(a).e("title"))},Me(d.title),11,lo)]),d.showClose?(O(),V("button",{key:0,"aria-label":o(s)("el.dialog.close"),class:k(o(a).e("headerbtn")),type:"button",onClick:w[0]||(w[0]=F=>d.$emit("close"))},[Y(o(Te),{class:k(o(a).e("close"))},{default:D(()=>[(O(),K(Be(d.closeIcon||o(u))))]),_:1},8,["class"])],10,no)):x("v-if",!0)],2),X("div",{id:o(r),class:k(o(a).e("body"))},[E(d.$slots,"default")],10,ao),d.$slots.footer?(O(),V("footer",{key:0,class:k(o(a).e("footer"))},[E(d.$slots,"footer")],2)):x("v-if",!0)],6))}});var uo=ne(ro,[["__file","dialog-content.vue"]]);const co=J({...de,appendToBody:Boolean,appendTo:{type:H(String),default:"body"},beforeClose:{type:H(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),fo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>De(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},mo=(e,t)=>{var s;const n=Ae().emit,{nextZIndex:i}=Ie();let r="";const a=oe(),m=oe(),c=I(!1),y=I(!1),p=I(!1),h=I((s=e.zIndex)!=null?s:i());let f,d;const w=Le("namespace",Fe),F=L(()=>{const b={},S=`--${w.value}-dialog`;return e.fullscreen||(e.top&&(b[`${S}-margin-top`]=e.top),e.width&&(b[`${S}-width`]=j(e.width))),b}),P=L(()=>e.alignCenter?{display:"flex"}:{});function $(){n("opened")}function N(){n("closed"),n(ae,!1),e.destroyOnClose&&(p.value=!1)}function z(){n("close")}function A(){d==null||d(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=te(()=>T(),e.openDelay):T()}function M(){f==null||f(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=te(()=>l(),e.closeDelay):l()}function B(){function b(S){S||(y.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(b):M()}function C(){e.closeOnClickModal&&B()}function T(){G&&(c.value=!0)}function l(){c.value=!1}function v(){n("openAutoFocus")}function g(){n("closeAutoFocus")}function ue(b){var S;((S=b.detail)==null?void 0:S.focusReason)==="pointer"&&b.preventDefault()}e.lockScroll&&Ze(c);function ce(){e.closeOnPressEscape&&B()}return q(()=>e.modelValue,b=>{b?(y.value=!1,A(),p.value=!0,h.value=_e(e.zIndex)?i():h.value++,$e(()=>{n("open"),t.value&&(t.value.scrollTop=0)})):c.value&&M()}),q(()=>e.fullscreen,b=>{t.value&&(b?(r=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=r)}),se(()=>{e.modelValue&&(c.value=!0,p.value=!0,A())}),{afterEnter:$,afterLeave:N,beforeLeave:z,handleClose:B,onModalClick:C,close:M,doClose:l,onOpenAutoFocus:v,onCloseAutoFocus:g,onCloseRequested:ce,onFocusoutPrevented:ue,titleId:a,bodyId:m,closed:y,style:F,overlayDialogStyle:P,rendered:p,visible:c,zIndex:h}},vo=["aria-label","aria-labelledby","aria-describedby"],yo=R({name:"ElDialog",inheritAttrs:!1}),po=R({...yo,props:co,emits:fo,setup(e,{expose:t}){const s=e,u=Oe();Pe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!u.title));const n=Z("dialog"),i=I(),r=I(),a=I(),{visible:m,titleId:c,bodyId:y,style:p,overlayDialogStyle:h,rendered:f,zIndex:d,afterEnter:w,afterLeave:F,beforeLeave:P,handleClose:$,onModalClick:N,onOpenAutoFocus:z,onCloseAutoFocus:A,onCloseRequested:M,onFocusoutPrevented:B}=mo(s,i);Ne(re,{dialogRef:i,headerRef:r,bodyId:y,ns:n,rendered:f,style:p});const C=ie(N),T=L(()=>s.draggable&&!s.fullscreen);return t({visible:m,dialogContentRef:a}),(l,v)=>(O(),K(He,{to:l.appendTo,disabled:l.appendTo!=="body"?!1:!l.appendToBody},[Y(Xe,{name:"dialog-fade",onAfterEnter:o(w),onAfterLeave:o(F),onBeforeLeave:o(P),persisted:""},{default:D(()=>[ze(Y(o(to),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":o(d)},{default:D(()=>[X("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:o(c),"aria-describedby":o(y),class:k(`${o(n).namespace.value}-overlay-dialog`),style:le(o(h)),onClick:v[0]||(v[0]=(...g)=>o(C).onClick&&o(C).onClick(...g)),onMousedown:v[1]||(v[1]=(...g)=>o(C).onMousedown&&o(C).onMousedown(...g)),onMouseup:v[2]||(v[2]=(...g)=>o(C).onMouseup&&o(C).onMouseup(...g))},[Y(o(je),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(z),onFocusAfterReleased:o(A),onFocusoutPrevented:o(B),onReleaseRequested:o(M)},{default:D(()=>[o(f)?(O(),K(uo,Ye({key:0,ref_key:"dialogContentRef",ref:a},l.$attrs,{center:l.center,"align-center":l.alignCenter,"close-icon":l.closeIcon,draggable:o(T),overflow:l.overflow,fullscreen:l.fullscreen,"show-close":l.showClose,title:l.title,"aria-level":l.headerAriaLevel,onClose:o($)}),Re({header:D(()=>[l.$slots.title?E(l.$slots,"title",{key:1}):E(l.$slots,"header",{key:0,close:o($),titleId:o(c),titleClass:o(n).e("title")})]),default:D(()=>[E(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:D(()=>[E(l.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):x("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,vo)]),_:3},8,["mask","overlay-class","z-index"]),[[We,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var go=ne(po,[["__file","dialog.vue"]]);const ko=Ue(go);export{ko as E};
